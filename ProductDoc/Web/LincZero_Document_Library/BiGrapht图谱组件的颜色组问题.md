# BiGrapht图谱组件的颜色组问题

这是一篇讨论文章

## 关联度

### 引言、关联度

引言：图谱中的两个点的关联究竟是与目录更相关，还是与他们是否有相互引用更相关？

假设我们存在四个目录：/A/a1.md、/A/a2.md、/B/b1.md、/B/b2.md，简称a1、a2、b1、b2。其中a2有一个引用b2的链接。

那么在点图中：如果目录更相关，那么a2与a1的相关性高于a2与b2；如果引用更相关，那么a2与b2的相关性高于a2与a1

这里我们定义了关联度的说法。在一些环境假设以及思考过后，我认为两种情况均可能存在

### 目录相关性更高的情况

分两大类，一是部分引用的相关性极小，二是许多目录的相关性极大

(1.1) 例如整个文档库的主导引/导航页。这种情况下一个目录会有包括指向大多数文件的链接。大多数链接与该主导航页并无什么关联

策略：

- 一个策略是排除掉主导航页
- 另一个策略是允许声明一种不被插件监控的链接语法，恰好，确实有这种语法。在241230及之前版本中，`[aaa](bbb)`，其中bbb没包含 `.md` 后缀的情况下，该链接能够正常跳转和使用，但不会被该插件所管理。可以利用该特性去除文档库主导航页的印象

(1.2) 另一种类型是 wiki 中对于不常见名词的引用。这种动机下的引用可以很大程度地方便访问者在更容易理解文中的出现的生僻词。例如介绍某一编程语法或框架时举例哪几种软件使用了该语法和框架，包含特定人名或机构或软件或网站时，往往也有引用。

以上两种类型的引用相关性并不高

(2) 大部分目录的相关性会更大

例如数学与物理、化学与生物，虽然是跨学科，但彼此之间存在许多关联。物理可能某些求解需要联立方程，就引用了数学的方程。但可能数学文件夹恰好有一个方程文件夹，里面内容包括：一元一次、一元二次、多元、行列式与方程，等等。由于在同一个文件夹下的子文件往往由于本身位置具有的强关联，就很少不会再相互引用了，许多文章作者往往不会这样做。

显然，这些跨学科之间的引用远远比不上这种强目录带来的关联度

### 引用相关性更高的情况

有时目录是非专题性的，而是一些别的分类。如查看权限、组织/部门、作者。这些分类的优先级往往在专题之上。又或者是线性的，如初等数学、高等数学，如初中物理、高中物理。他们很可能都描述同一东西。此时引用的关联性比目录关联性要更大。

## 关联度算法

以上，我们可以得到一些结论：

- 路径与关联度相关
  - 假如两个文件拥有相同的祖先目录，他们与该目录的距离越近，路径越短，关联度越强
  - 假如两个文件拥有相同的直接/间接引用文件，他们的路径越短，关联度越强
- 目录/引用类型相关
  - 目录是专题性的，则目录下的文件集群之间关联度越强
  - 引用是关联性、双向的（彼此都有对对方引用），则他们之间的关联度越强

## 结合插件

Obsidian的图谱存在颜色组的功能，颜色组除了着色，理应还有另一特性：

同颜色组之间可以看做是同专题文件下的内容，关联性越强，彼此更倾向于聚集








