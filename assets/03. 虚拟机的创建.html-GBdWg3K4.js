import{_ as t,c as e,f as l,a as i,b as s,o as n}from"./app-B2g-EbEF.js";const r="/MdNote_Public/assets/image%209-BUON3QE3.webp",h={};function d(p,a){return n(),e("div",null,a[0]||(a[0]=[l(`<h1 id="虚拟机的创建" tabindex="-1"><a class="header-anchor" href="#虚拟机的创建"><span>虚拟机的创建</span></a></h1><h2 id="创建虚拟机" tabindex="-1"><a class="header-anchor" href="#创建虚拟机"><span>创建虚拟机</span></a></h2><h3 id="创建虚拟机方式" tabindex="-1"><a class="header-anchor" href="#创建虚拟机方式"><span>创建虚拟机方式</span></a></h3><p>比如我们要创建ubuntu 22.04的虚拟机，参考官网资料： https://app.vagrantup.com/ubuntu/boxes/jammy64</p><h4 id="方式一-vagrantfile" tabindex="-1"><a class="header-anchor" href="#方式一-vagrantfile"><span>方式一：Vagrantfile</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 1. 创建Vagrantfile文件，并填充内容</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vi</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Vagrantfile</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 然后填入Vagrantfile内容</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Vagrant.configure(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;2&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  config.vm.box</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;ubuntu/jammy64&quot;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 2. 使用Vagrant up命令启动</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vagrant</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> up</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="方式二-指定镜像" tabindex="-1"><a class="header-anchor" href="#方式二-指定镜像"><span>方式二：指定镜像</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 1. 便捷地创建预设Vagrantfile文件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vagrant</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> init</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ubuntu/jammy64</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 2. 使用Vagrant up命令启动</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vagrant</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> up</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当我们运行 <code>vagrant init</code> 命令时，会在当前目录生成 <code>Vagrantfile</code> 配置文件，默认的配置文件如下：</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Vagrant</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">configure</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;2&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> |</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">config</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">|</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  config</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">vm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">box</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;ubuntu/jammy64&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">end</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="创建过程" tabindex="-1"><a class="header-anchor" href="#创建过程"><span>创建过程</span></a></h3><p><img src="`+r+'" alt="" loading="lazy"></p><p>创建和启动虚拟机主要有下面四个步骤：</p>',13),i("div",{class:"ab-note drop-shadow"},[i("table",{class:"ab-table ab-list-table ab-listtable-likelist"},[i("tbody",null,[i("tr",{class:"ab-foldable-tr",tr_level:"0",is_fold:"false",able_fold:"false",type:"配置网络",onclick:`
         const tr = this
         const l_tr = tr.parentNode.querySelectorAll("tr")
         const i = 0
         const tr_level = Number(tr.getAttribute("tr_level"))
         if (isNaN(tr_level)) return
         const tr_isfold = tr.getAttribute("is_fold")
         if (!tr_isfold) return
         let flag_do_fold = false  // 防止折叠最小层
         for (let j=i+1; j<l_tr.length; j++){
           const tr2 = l_tr[j]
           const tr_level2 = Number(tr2.getAttribute("tr_level"))
           if (isNaN(tr_level2)) break
           if (tr_level2<=tr_level) break
           (tr_isfold == "true") ? tr2.style.display = "" : tr2.style.display = "none"
           flag_do_fold = true
         }
         if (flag_do_fold) tr.setAttribute("is_fold", tr_isfold=="true"?"false":"true")
        `},[i("td",{rowspan:"1"},[i("div",{class:"ab-list-table-witharrow markdown-rendered"},[i("div",null,[i("p",null,"配置网络")])])]),i("td",{rowspan:"1"},[i("div",{class:"ab-list-table-witharrow markdown-rendered"},[i("div",null,[i("p",null,"这里使用NAT模式")])])])]),i("tr",{class:"ab-foldable-tr",tr_level:"0",is_fold:"false",able_fold:"false",type:"转发SSH端口",onclick:`
         const tr = this
         const l_tr = tr.parentNode.querySelectorAll("tr")
         const i = 1
         const tr_level = Number(tr.getAttribute("tr_level"))
         if (isNaN(tr_level)) return
         const tr_isfold = tr.getAttribute("is_fold")
         if (!tr_isfold) return
         let flag_do_fold = false  // 防止折叠最小层
         for (let j=i+1; j<l_tr.length; j++){
           const tr2 = l_tr[j]
           const tr_level2 = Number(tr2.getAttribute("tr_level"))
           if (isNaN(tr_level2)) break
           if (tr_level2<=tr_level) break
           (tr_isfold == "true") ? tr2.style.display = "" : tr2.style.display = "none"
           flag_do_fold = true
         }
         if (flag_do_fold) tr.setAttribute("is_fold", tr_isfold=="true"?"false":"true")
        `},[i("td",{rowspan:"1"},[i("div",{class:"ab-list-table-witharrow markdown-rendered"},[i("div",null,[i("p",null,"转发SSH端口")])])]),i("td",{rowspan:"1"},[i("div",{class:"ab-list-table-witharrow markdown-rendered"},[i("div",null,[i("p",null,"这里将虚拟机的22端口转发到主机的2222端口")])])])]),i("tr",{class:"ab-foldable-tr",tr_level:"0",is_fold:"false",able_fold:"false",type:"配置ssh用户和密钥对",onclick:`
         const tr = this
         const l_tr = tr.parentNode.querySelectorAll("tr")
         const i = 2
         const tr_level = Number(tr.getAttribute("tr_level"))
         if (isNaN(tr_level)) return
         const tr_isfold = tr.getAttribute("is_fold")
         if (!tr_isfold) return
         let flag_do_fold = false  // 防止折叠最小层
         for (let j=i+1; j<l_tr.length; j++){
           const tr2 = l_tr[j]
           const tr_level2 = Number(tr2.getAttribute("tr_level"))
           if (isNaN(tr_level2)) break
           if (tr_level2<=tr_level) break
           (tr_isfold == "true") ? tr2.style.display = "" : tr2.style.display = "none"
           flag_do_fold = true
         }
         if (flag_do_fold) tr.setAttribute("is_fold", tr_isfold=="true"?"false":"true")
        `},[i("td",{rowspan:"1"},[i("div",{class:"ab-list-table-witharrow markdown-rendered"},[i("div",null,[i("p",null,"配置ssh用户和密钥对")])])]),i("td",{rowspan:"1"},[i("div",{class:"ab-list-table-witharrow markdown-rendered"},[i("div",null,[i("p",null,"设置用户名vagrant，和秘钥")])])])]),i("tr",{class:"ab-foldable-tr",tr_level:"0",is_fold:"false",able_fold:"false",type:"挂载共享目录",onclick:`
         const tr = this
         const l_tr = tr.parentNode.querySelectorAll("tr")
         const i = 3
         const tr_level = Number(tr.getAttribute("tr_level"))
         if (isNaN(tr_level)) return
         const tr_isfold = tr.getAttribute("is_fold")
         if (!tr_isfold) return
         let flag_do_fold = false  // 防止折叠最小层
         for (let j=i+1; j<l_tr.length; j++){
           const tr2 = l_tr[j]
           const tr_level2 = Number(tr2.getAttribute("tr_level"))
           if (isNaN(tr_level2)) break
           if (tr_level2<=tr_level) break
           (tr_isfold == "true") ? tr2.style.display = "" : tr2.style.display = "none"
           flag_do_fold = true
         }
         if (flag_do_fold) tr.setAttribute("is_fold", tr_isfold=="true"?"false":"true")
        `},[i("td",{rowspan:"1"},[i("div",{class:"ab-list-table-witharrow markdown-rendered"},[i("div",null,[i("p",null,"挂载共享目录")])])]),i("td",{rowspan:"1"},[i("div",{class:"ab-list-table-witharrow markdown-rendered"},[i("div",null,[i("p",null,[s("将虚拟机的 "),i("code",null,"/vagrant"),s(" 目录挂载到主机的 "),i("code",null,"/Users/qiu/vagrant"),s(" 目录")])])])])])]),i("button",{class:"ab-table-fold",is_fold:"false"},"全部折叠/展开")])],-1),l(`<h3 id="连接虚拟机" tabindex="-1"><a class="header-anchor" href="#连接虚拟机"><span>连接虚拟机</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vagrant</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ssh</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 语法糖，等同于：</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># ssh vagrant@localhost -p 2222</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="一些默认配置" tabindex="-1"><a class="header-anchor" href="#一些默认配置"><span>一些默认配置</span></a></h2><h3 id="配置网络" tabindex="-1"><a class="header-anchor" href="#配置网络"><span>配置网络</span></a></h3><p>vagrant总是会将虚拟机的第一个网卡设置为NAT (默认值)</p><h3 id="配置ssh" tabindex="-1"><a class="header-anchor" href="#配置ssh"><span>配置SSH</span></a></h3><h4 id="转发ssh端口" tabindex="-1"><a class="header-anchor" href="#转发ssh端口"><span>转发SSH端口</span></a></h4><p>NAT无法从主机访问虚拟机，为什么可以使用<code>vagrant ssh</code>连接到虚拟机呢？</p><p>这是因为vagrant将虚拟机的ssh端口<code>22</code>转发到宿主机<code>2222</code>端口。如果有多个虚拟机，每个虚拟机会转发到不同的端口。</p><p>通过<code>vagrant ssh</code>连接到虚拟机跟使用下列命令是一样的。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ssh</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> vagrant@localhost</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2222</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="配置ssh用户" tabindex="-1"><a class="header-anchor" href="#配置ssh用户"><span>配置SSH用户</span></a></h4><p>vagrant默认为每个虚拟机创建一个 <code>vagrant</code> 用户，密码为 <code>vagrant</code>。</p><p>这个用户拥有 <code>sudo</code> 权限，默认情况下不启动 <code>root</code> 用户。</p><h4 id="配置ssh密钥对" tabindex="-1"><a class="header-anchor" href="#配置ssh密钥对"><span>配置SSH密钥对</span></a></h4><p>vagrant ssh命令不需要输入密码，通过<strong>密钥对免密登录</strong>虚拟机。</p><p>所有的虚拟机Box打包的时候都使用同一个公开的密钥对。这样子显然是不安全的。</p><p>内置的密钥对仅用于第一次创建虚拟机的时候，vagrant会通过这个密钥对登录进虚拟机。然后生成一个新的密钥对，并替换公开的密钥对。</p><h3 id="更新guest-additions" tabindex="-1"><a class="header-anchor" href="#更新guest-additions"><span>更新Guest Additions</span></a></h3><p>如果要去掉<code>guest additions</code>版本不匹配的提示信息，可以手动更新。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vagrant</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> plugin</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> vagrant-vbguest</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="vagrant-常用命令" tabindex="-1"><a class="header-anchor" href="#vagrant-常用命令"><span>Vagrant 常用命令</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vagrant</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> init</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ubuntu/jammy64</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 创建Vagrantfile</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vagrant</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> up</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # 根据Vagrantfile创建box镜像</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vagrant</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> reload</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # 重新配置虚拟机</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vagrant</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> halt</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      # 关闭虚拟机</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vagrant</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> destroy</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   # 删除虚拟机</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vagrant</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> suspend</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   # 休眠</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vagrant</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> resume</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # 唤醒</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vagrant</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -v</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # --version</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vagrant</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -h</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # --help</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vagrant</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> box</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> list</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,23)]))}const o=t(h,[["render",d],["__file","03. 虚拟机的创建.html.vue"]]),c=JSON.parse('{"path":"/01.%20DesignAndDevelop/Virtual/%E8%99%9A%E6%8B%9F%E6%9C%BA/Vagrant/%E3%80%8AVagrant%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E3%80%8B/03.%20%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9A%84%E5%88%9B%E5%BB%BA.html","title":"虚拟机的创建","lang":"zh-CN","frontmatter":{"description":"虚拟机的创建 创建虚拟机 创建虚拟机方式 比如我们要创建ubuntu 22.04的虚拟机，参考官网资料： https://app.vagrantup.com/ubuntu/boxes/jammy64 方式一：Vagrantfile 方式二：指定镜像 当我们运行 vagrant init 命令时，会在当前目录生成 Vagrantfile 配置文件，默认的...","head":[["meta",{"property":"og:url","content":"https://LincDocs.github.io/MdNote_Public/01.%20DesignAndDevelop/Virtual/%E8%99%9A%E6%8B%9F%E6%9C%BA/Vagrant/%E3%80%8AVagrant%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E3%80%8B/03.%20%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9A%84%E5%88%9B%E5%BB%BA.html"}],["meta",{"property":"og:site_name","content":"MdNote_Public"}],["meta",{"property":"og:title","content":"虚拟机的创建"}],["meta",{"property":"og:description","content":"虚拟机的创建 创建虚拟机 创建虚拟机方式 比如我们要创建ubuntu 22.04的虚拟机，参考官网资料： https://app.vagrantup.com/ubuntu/boxes/jammy64 方式一：Vagrantfile 方式二：指定镜像 当我们运行 vagrant init 命令时，会在当前目录生成 Vagrantfile 配置文件，默认的..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-02-09T07:57:06.000Z"}],["meta",{"property":"article:modified_time","content":"2025-02-09T07:57:06.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"虚拟机的创建\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-02-09T07:57:06.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"LincDocs\\",\\"url\\":\\"https://github.com/LincDocs/MdNote_Public/\\"}]}"]]},"headers":[{"level":1,"title":"虚拟机的创建","slug":"虚拟机的创建","link":"#虚拟机的创建","children":[{"level":2,"title":"创建虚拟机","slug":"创建虚拟机","link":"#创建虚拟机","children":[{"level":3,"title":"创建虚拟机方式","slug":"创建虚拟机方式","link":"#创建虚拟机方式","children":[{"level":4,"title":"方式一：Vagrantfile","slug":"方式一-vagrantfile","link":"#方式一-vagrantfile","children":[]},{"level":4,"title":"方式二：指定镜像","slug":"方式二-指定镜像","link":"#方式二-指定镜像","children":[]}]},{"level":3,"title":"创建过程","slug":"创建过程","link":"#创建过程","children":[]},{"level":3,"title":"连接虚拟机","slug":"连接虚拟机","link":"#连接虚拟机","children":[]}]},{"level":2,"title":"一些默认配置","slug":"一些默认配置","link":"#一些默认配置","children":[{"level":3,"title":"配置网络","slug":"配置网络","link":"#配置网络","children":[]},{"level":3,"title":"配置SSH","slug":"配置ssh","link":"#配置ssh","children":[{"level":4,"title":"转发SSH端口","slug":"转发ssh端口","link":"#转发ssh端口","children":[]},{"level":4,"title":"配置SSH用户","slug":"配置ssh用户","link":"#配置ssh用户","children":[]},{"level":4,"title":"配置SSH密钥对","slug":"配置ssh密钥对","link":"#配置ssh密钥对","children":[]}]},{"level":3,"title":"更新Guest Additions","slug":"更新guest-additions","link":"#更新guest-additions","children":[]}]},{"level":2,"title":"Vagrant 常用命令","slug":"vagrant-常用命令","link":"#vagrant-常用命令","children":[]}]}],"git":{"createdTime":1739087826000,"updatedTime":1739087826000,"contributors":[{"name":"Linc","username":"Linc","email":"762699299@qq.com","commits":1,"url":"https://github.com/Linc"}]},"readingTime":{"minutes":2.23,"words":668},"filePathRelative":"01. DesignAndDevelop/Virtual/虚拟机/Vagrant/《Vagrant快速入门》/03. 虚拟机的创建.md","localizedDate":"2025年2月9日","excerpt":"\\n<h2>创建虚拟机</h2>\\n<h3>创建虚拟机方式</h3>\\n<p>比如我们要创建ubuntu 22.04的虚拟机，参考官网资料： https://app.vagrantup.com/ubuntu/boxes/jammy64</p>\\n<h4>方式一：Vagrantfile</h4>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"bash\\" data-title=\\"bash\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 1. 创建Vagrantfile文件，并填充内容</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">vi</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> Vagrantfile</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 然后填入Vagrantfile内容</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">Vagrant.configure(</span><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">\\"2\\"</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">) </span><span style=\\"--shiki-light:#A626A4;--shiki-dark:#C678DD\\">do</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> |</span><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">config</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">|</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">  config.vm.box</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> =</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> \\"ubuntu/jammy64\\"</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A626A4;--shiki-dark:#C678DD\\">end</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 2. 使用Vagrant up命令启动</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">vagrant</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> up</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true,"bioChainData":{"outlink":[],"backlink":[],"localMap":{"nodes":[{"id":"01. DesignAndDevelop/Virtual/虚拟机/Vagrant/《Vagrant快速入门》/03. 虚拟机的创建.md","value":{"title":"03. 虚拟机的创建","path":"01. DesignAndDevelop/Virtual/虚拟机/Vagrant/《Vagrant快速入门》/03. 虚拟机的创建.md","outlink":[],"backlink":[]}}],"links":[]}}}');export{o as comp,c as data};
