import{_ as e,c as s,f as a,o as t}from"./app-DgtOKJM1.js";const n={};function l(r,i){return t(),s("div",null,i[0]||(i[0]=[a(`<h1 id="javascript-扩展" tabindex="-1"><a class="header-anchor" href="#javascript-扩展"><span>JavaScript 扩展</span></a></h1><h2 id="扩展舒适的客户端" tabindex="-1"><a class="header-anchor" href="#扩展舒适的客户端"><span>扩展舒适的客户端</span></a></h2><p>Comfy 可以通过扩展机制进行修改。要添加扩展，您需要：</p><ul><li>从 Python 模块导出 <code>WEB_DIRECTORY</code></li><li>将一个或多个 <code>.js</code> 文件放入该目录</li><li>用 <code>app.registerExtension</code> 注册您的扩展</li></ul><p>这三个步骤如下。一旦您知道如何添加扩展，请查看可以调用您代码的 <a href="https://docs.comfy.org/essentials/javascript_hooks" target="_blank" rel="noopener noreferrer">钩子</a>、您可能需要的各种 <a href="https://docs.comfy.org/essentials/javascript_objects_and_hijacking" target="_blank" rel="noopener noreferrer">Comfy 对象</a> 的描述，或者直接跳转到一些 <a href="https://docs.comfy.org/essentials/javascript_examples" target="_blank" rel="noopener noreferrer">示例代码片段</a>。</p><h3 id="导出-web-directory" tabindex="-1"><a class="header-anchor" href="#导出-web-directory"><span>导出 <code>WEB_DIRECTORY</code></span></a></h3><p>Comfy Web 客户端可以通过在自定义节点目录中创建一个子目录（通常称为 <code>js</code>）并导出 <code>WEB_DIRECTORY</code> 来扩展 - 因此您的 <code>__init_.py</code> 将包含类似以下内容的内容：</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;">WEB_DIRECTORY</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;./js&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">__all__</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;NODE_CLASS_MAPPINGS&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;NODE_DISPLAY_NAME_MAPPINGS&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;WEB_DIRECTORY&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="包含-js-文件" tabindex="-1"><a class="header-anchor" href="#包含-js-文件"><span>包含 <code>.js</code> 文件</span></a></h3><div class="callout" data-callout="tip"><div class="callout-title"><div class="callout-title-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-flame"><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"></path></svg></div><div class="callout-title-inner">Tip</div></div><div class="callout-content"><p>所有 <code>Javascript.js</code> 文件将在 Comfy 网页加载时由浏览器加载。您不需要指定扩展程序所在的文件。</p></div></div><p><em>仅</em> <code>.js</code> 文件会添加到网页。其他资源（如 <code>.css</code> 文件）可以在 <code>extensions/custom_node_subfolder/the_file.css</code> 中访问并以编程方式添加</p><div class="callout" data-callout="warning"><div class="callout-title"><div class="callout-title-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-alert-triangle"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"></path><path d="M12 9v4"></path><path d="M12 17h.01"></path></svg></div><div class="callout-title-inner">Warning</div></div><div class="callout-content"><p>该路径<em>不</em>包含子文件夹的名称。<code>WEB_DIRECTORY</code> 的值由服务器插入</p></div></div><h3 id="注册扩展" tabindex="-1"><a class="header-anchor" href="#注册扩展"><span>注册扩展</span></a></h3><p>扩展的基本结构如下：导入主 Comfy <code>app</code> 对象，然后调用 <code>app.registerExtension</code>，传递一个包含唯一 <code>name</code> 的字典，以及由 Comfy 代码中的钩子调用的一个或多个函数</p><p>一个完整的、繁琐的、烦人的扩展可能看起来像这样：</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">app</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;../../scripts/app.js&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">app</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">registerExtension</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({ </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	name</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;a.unique.name.for.a.useless.extension&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">	async</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> setup</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() { </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">		alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Setup complete!&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	},</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,16)]))}const p=e(n,[["render",l],["__file","01. JavaScript扩展.html.vue"]]),c=JSON.parse('{"path":"/01.%20DesignAndDevelop/Develop/04.%20Project/Type/Script/Plugin_ComfyUI/03.%20%E5%AE%A2%E6%88%B7%E7%AB%AF%20(Javascript)/01.%20JavaScript%E6%89%A9%E5%B1%95.html","title":"JavaScript 扩展","lang":"zh-CN","frontmatter":{"description":"JavaScript 扩展 扩展舒适的客户端 Comfy 可以通过扩展机制进行修改。要添加扩展，您需要： 从 Python 模块导出 WEB_DIRECTORY 将一个或多个 .js 文件放入该目录 用 app.registerExtension 注册您的扩展 这三个步骤如下。一旦您知道如何添加扩展，请查看可以调用您代码的 钩子、您可能需要的各种 Co...","head":[["meta",{"property":"og:url","content":"https://LincDocs.github.io/MdNote_Public/01.%20DesignAndDevelop/Develop/04.%20Project/Type/Script/Plugin_ComfyUI/03.%20%E5%AE%A2%E6%88%B7%E7%AB%AF%20(Javascript)/01.%20JavaScript%E6%89%A9%E5%B1%95.html"}],["meta",{"property":"og:site_name","content":"MdNote_Public"}],["meta",{"property":"og:title","content":"JavaScript 扩展"}],["meta",{"property":"og:description","content":"JavaScript 扩展 扩展舒适的客户端 Comfy 可以通过扩展机制进行修改。要添加扩展，您需要： 从 Python 模块导出 WEB_DIRECTORY 将一个或多个 .js 文件放入该目录 用 app.registerExtension 注册您的扩展 这三个步骤如下。一旦您知道如何添加扩展，请查看可以调用您代码的 钩子、您可能需要的各种 Co..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-02-03T15:36:56.000Z"}],["meta",{"property":"article:modified_time","content":"2025-02-03T15:36:56.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"JavaScript 扩展\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-02-03T15:36:56.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"LincDocs\\",\\"url\\":\\"https://github.com/LincDocs/MdNote_Public/\\"}]}"]]},"headers":[{"level":1,"title":"JavaScript 扩展","slug":"javascript-扩展","link":"#javascript-扩展","children":[{"level":2,"title":"扩展舒适的客户端","slug":"扩展舒适的客户端","link":"#扩展舒适的客户端","children":[{"level":3,"title":"导出 WEB_DIRECTORY","slug":"导出-web-directory","link":"#导出-web-directory","children":[]},{"level":3,"title":"包含 .js 文件","slug":"包含-js-文件","link":"#包含-js-文件","children":[]},{"level":3,"title":"注册扩展","slug":"注册扩展","link":"#注册扩展","children":[]}]}]}],"git":{"createdTime":1738597016000,"updatedTime":1738597016000,"contributors":[{"name":"Linc","username":"Linc","email":"762699299@qq.com","commits":1,"url":"https://github.com/Linc"}]},"readingTime":{"minutes":1.26,"words":378},"filePathRelative":"01. DesignAndDevelop/Develop/04. Project/Type/Script/Plugin_ComfyUI/03. 客户端 (Javascript)/01. JavaScript扩展.md","localizedDate":"2025年2月3日","excerpt":"\\n<h2>扩展舒适的客户端</h2>\\n<p>Comfy 可以通过扩展机制进行修改。要添加扩展，您需要：</p>\\n<ul>\\n<li>从 Python 模块导出 <code>WEB_DIRECTORY</code></li>\\n<li>将一个或多个 <code>.js</code> 文件放入该目录</li>\\n<li>用 <code>app.registerExtension</code> 注册您的扩展</li>\\n</ul>\\n<p>这三个步骤如下。一旦您知道如何添加扩展，请查看可以调用您代码的 <a href=\\"https://docs.comfy.org/essentials/javascript_hooks\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">钩子</a>、您可能需要的各种 <a href=\\"https://docs.comfy.org/essentials/javascript_objects_and_hijacking\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Comfy 对象</a> 的描述，或者直接跳转到一些 <a href=\\"https://docs.comfy.org/essentials/javascript_examples\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">示例代码片段</a>。</p>","autoDesc":true,"bioChainData":{"outlink":[],"backlink":[],"localMap":{"nodes":[{"id":"01. DesignAndDevelop/Develop/04. Project/Type/Script/Plugin_ComfyUI/03. 客户端 (Javascript)/01. JavaScript扩展.md","value":{"title":"01. JavaScript扩展","path":"01. DesignAndDevelop/Develop/04. Project/Type/Script/Plugin_ComfyUI/03. 客户端 (Javascript)/01. JavaScript扩展.md","outlink":[],"backlink":[]}}],"links":[]}}}');export{p as comp,c as data};
