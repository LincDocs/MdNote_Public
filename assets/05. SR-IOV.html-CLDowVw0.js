import{_ as p,c as i,e as o,a as s,b as a,d as e,o as l,r}from"./app-Z3IVicAk.js";const c={},u={href:"https://docs.microsoft.com/en-us/windows-hardware/drivers/network/sr-iov-architecture",target:"_blank",rel:"noopener noreferrer"},d={href:"https://www.slideshare.net/janghoonsim/kvm-performance-optimization-for-ubuntu",target:"_blank",rel:"noopener noreferrer"},v={href:"http://www.cnblogs.com/sammyliu/p/4548194.html",target:"_blank",rel:"noopener noreferrer"},k={href:"http://www.intel.com/content/www/us/en/embedded/products/networking/xl710-sr-iov-config-guide-gbe-linux-brief.html",target:"_blank",rel:"noopener noreferrer"},m={href:"https://wiki.openstack.org/wiki/SR-IOV-Passthrough-For-Networking",target:"_blank",rel:"noopener noreferrer"},b={href:"https://access.redhat.com/documentation/zh-CN/Red_Hat_Enterprise_Linux_OpenStack_Platform/7/html/Networking_Guide/sec-sr-iov.html",target:"_blank",rel:"noopener noreferrer"},g={href:"http://www.slideshare.net/nyechiel/sdn-fundamentals-for-nfv-open-stack-and-containers-red-hat-summit-20161",target:"_blank",rel:"noopener noreferrer"},h={href:"http://www.cnblogs.com/sammyliu/p/4548194.html",target:"_blank",rel:"noopener noreferrer"},f={href:"http://wiki.libvirt.org/page/Networking#PCI_Passthrough_of_host_network_devices",target:"_blank",rel:"noopener noreferrer"},I={href:"http://netdevconf.org/2.1/session.html?jain",target:"_blank",rel:"noopener noreferrer"};function _(V,n){const t=r("ExternalLinkIcon");return l(),i("div",null,[n[13]||(n[13]=o('<h1 id="sr-iov" tabindex="-1"><a class="header-anchor" href="#sr-iov"><span>SR-IOV</span></a></h1><p><code>SR-IOV</code>（<code>Single Root I/O Virtualization</code>）是一个将<code>PCIe</code>共享给虚拟机的标准，通过为虚拟机提供独立的内存空间、中断、<code>DMA</code>流，来绕过<code>VMM</code>实现数据访问。SR-IOV基于两种<code>PCIe functions</code>：</p><ul><li><strong>PF (Physical Function)</strong>： 包含完整的 PCIe 功能，包括 SR-IOV 的扩张能力，该功能用于 SR-IOV 的配置和管理。</li><li><strong>FV (Virtual Function)</strong>： 包含轻量级的 PCIe 功能。每一个 VF 有它自己独享的 PCI 配置区域，并且可能与其他VF共享着同一个物理资源</li></ul><p>![SR-IOV Architecture](05. SR-IOV.assets/sriovarchitecture.png)</p><p>![SR-IOV synthetic datapaths](05. SR-IOV.assets/sriovsynthetic-datapaths.png)</p>',5)),s("blockquote",null,[s("p",null,[n[1]||(n[1]=a("图片来源")),s("a",u,[n[0]||(n[0]=a("Microsoft - SR-IOV Architecture")),e(t)])])]),n[14]||(n[14]=o('<h2 id="sr-iov要求" tabindex="-1"><a class="header-anchor" href="#sr-iov要求"><span>SR-IOV要求</span></a></h2><ul><li><code>CPU</code> 必须支持<code>IOMMU</code>（比如英特尔的<code>VT-d</code> 或者<code>AMD</code>的 <code>AMD-Vi</code>，<code>Power8</code> 处理器默认支持<code>IOMMU</code>）</li><li>固件<code>Firmware</code> 必须支持<code>IOMMU</code></li><li><code>CPU</code> 根桥必须支持 <code>ACS</code> 或者<code>ACS</code>等价特性</li><li><code>PCIe</code> 设备必须支持<code>ACS</code> 或者<code>ACS</code>等价特性</li><li>建议根桥和<code>PCIe</code> 设备中间的所有<code>PCIe</code> 交换设备都支持ACS，如果某个<code>PCIe</code>交换设备不支持<code>ACS</code>，其后的所有<code>PCIe</code>设备只能共享某个<code>IOMMU</code> 组，所以只能分配给1台虚机。</li></ul><h2 id="sr-iov-vs-pci-path-through" tabindex="-1"><a class="header-anchor" href="#sr-iov-vs-pci-path-through"><span>SR-IOV vs PCI path-through</span></a></h2><h3 id="架构上的比较-以网卡为例" tabindex="-1"><a class="header-anchor" href="#架构上的比较-以网卡为例"><span>架构上的比较（以网卡为例）</span></a></h3><p>![kvm-performance-optimization-for-ubuntu](05. SR-IOV.assets/kvm-performance-optimization-for-ubuntu-17-638.jpg)</p><p>![kvm-performance-optimization-for-ubuntu](05. SR-IOV.assets/kvm-performance-optimization-for-ubuntu-18-638.jpg)</p><h3 id="virtio-和-pass-through-的详细比较" tabindex="-1"><a class="header-anchor" href="#virtio-和-pass-through-的详细比较"><span>Virtio 和 Pass-Through 的详细比较</span></a></h3><p>![Virtio 和 Pass-Through 的详细比较](05. SR-IOV.assets/virtio-vs-pass-through.jpg)</p>',8)),s("blockquote",null,[s("p",null,[n[4]||(n[4]=a("图片来源")),s("a",d,[n[2]||(n[2]=a("slideshare - Kvm performance optimization for ubuntu")),e(t)]),n[5]||(n[5]=a("、[KVM 介绍（4）：I/O 设备直接分配和 SR-IOV ")),s("a",v,[n[3]||(n[3]=a("KVM PCI/PCIe Pass-Through SR-IOV]")),e(t)])])]),n[15]||(n[15]=o(`<h2 id="sr-iov-vs-dpdk" tabindex="-1"><a class="header-anchor" href="#sr-iov-vs-dpdk"><span>SR-IOV vs DPDK</span></a></h2><p>![sdn-fundamentals-for-nfv-openstack-and-containers-red-hat-summit](05. SR-IOV.assets/sdn-fundamentals-for-nfv-openstack-and-containers-red-hat-summit-2016-47-638.jpg)</p><p>![sdn-fundamentals-for-nfv-openstack-and-containers-red-hat-summit](05. SR-IOV.assets/sdn-fundamentals-for-nfv-openstack-and-containers-red-hat-summit-2016-48-638.jpg)</p><p>![sdn-fundamentals-for-nfv-openstack-and-containers-red-hat-summit](05. SR-IOV.assets/sdn-fundamentals-for-nfv-openstack-and-containers-red-hat-summit-2016-49-638.jpg)</p><h2 id="sr-iov使用示例" tabindex="-1"><a class="header-anchor" href="#sr-iov使用示例"><span>SR-IOV使用示例</span></a></h2><p>开启<code>VF</code>：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>modprobe <span class="token parameter variable">-r</span> igb
modprobe igb <span class="token assign-left variable">max_vfs</span><span class="token operator">=</span><span class="token number">7</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;options igb max_vfs=7&quot;</span> <span class="token operator">&gt;&gt;</span>/etc/modprobe.d/igb.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查找<code>Virtual Function</code>：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># lspci | grep 82576</span>
0b:00.0 Ethernet controller: Intel Corporation <span class="token number">82576</span> Gigabit Network Connection <span class="token punctuation">(</span>rev 01<span class="token punctuation">)</span>
0b:00.1 Ethernet controller: Intel Corporation <span class="token number">82576</span> Gigabit Network Connection<span class="token punctuation">(</span>rev 01<span class="token punctuation">)</span>
0b:10.0 Ethernet controller: Intel Corporation <span class="token number">82576</span> Virtual Function <span class="token punctuation">(</span>rev 01<span class="token punctuation">)</span>
0b:10.1 Ethernet controller: Intel Corporation <span class="token number">82576</span> Virtual Function <span class="token punctuation">(</span>rev 01<span class="token punctuation">)</span>
0b:10.2 Ethernet controller: Intel Corporation <span class="token number">82576</span> Virtual Function <span class="token punctuation">(</span>rev 01<span class="token punctuation">)</span>
0b:10.3 Ethernet controller: Intel Corporation <span class="token number">82576</span> Virtual Function <span class="token punctuation">(</span>rev 01<span class="token punctuation">)</span>
0b:10.4 Ethernet controller: Intel Corporation <span class="token number">82576</span> Virtual Function <span class="token punctuation">(</span>rev 01<span class="token punctuation">)</span>
0b:10.5 Ethernet controller: Intel Corporation <span class="token number">82576</span> Virtual Function <span class="token punctuation">(</span>rev 01<span class="token punctuation">)</span>
0b:10.6 Ethernet controller: Intel Corporation <span class="token number">82576</span> Virtual Function <span class="token punctuation">(</span>rev 01<span class="token punctuation">)</span>
0b:10.7 Ethernet controller: Intel Corporation <span class="token number">82576</span> Virtual Function <span class="token punctuation">(</span>rev 01<span class="token punctuation">)</span>
0b:11.0 Ethernet controller: Intel Corporation <span class="token number">82576</span> Virtual Function <span class="token punctuation">(</span>rev 01<span class="token punctuation">)</span>
0b:11.1 Ethernet controller: Intel Corporation <span class="token number">82576</span> Virtual Function <span class="token punctuation">(</span>rev 01<span class="token punctuation">)</span>
0b:11.2 Ethernet controller: Intel Corporation <span class="token number">82576</span> Virtual Function <span class="token punctuation">(</span>rev 01<span class="token punctuation">)</span>
0b:11.3 Ethernet controller: Intel Corporation <span class="token number">82576</span> Virtual Function <span class="token punctuation">(</span>rev 01<span class="token punctuation">)</span>
0b:11.4 Ethernet controller: Intel Corporation <span class="token number">82576</span> Virtual Function <span class="token punctuation">(</span>rev 01<span class="token punctuation">)</span>
0b:11.5 Ethernet controller: Intel Corporation <span class="token number">82576</span> Virtual Function <span class="token punctuation">(</span>rev 01<span class="token punctuation">)</span>

<span class="token comment"># virsh nodedev-list | grep 0b</span>
pci_0000_0b_00_0
pci_0000_0b_00_1
pci_0000_0b_10_0
pci_0000_0b_10_1
pci_0000_0b_10_2
pci_0000_0b_10_3
pci_0000_0b_10_4
pci_0000_0b_10_5
pci_0000_0b_10_6
pci_0000_0b_11_7
pci_0000_0b_11_1
pci_0000_0b_11_2
pci_0000_0b_11_3
pci_0000_0b_11_4
pci_0000_0b_11_5
$ <span class="token function">virsh</span> nodedev-dumpxml pci_0000_0b_00_0
<span class="token operator">&lt;</span>device<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>pci_0000_0b_00_<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>/name<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>parent<span class="token operator">&gt;</span>pci_0000_00_01_<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>/parent<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>driver<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>igb<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>/driver<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>capability <span class="token assign-left variable">type</span><span class="token operator">=</span><span class="token string">&#39;pci&#39;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>domain<span class="token operator">&gt;</span><span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>/domain<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>bus<span class="token operator">&gt;</span><span class="token number">1</span><span class="token operator"><span class="token file-descriptor important">1</span>&lt;</span>/bus<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>slot<span class="token operator">&gt;</span><span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>/slot<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>function<span class="token operator">&gt;</span><span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>/function<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>product <span class="token assign-left variable">id</span><span class="token operator">=</span><span class="token string">&#39;0x10c9&#39;</span><span class="token operator">&gt;</span><span class="token number">82576</span> Gigabit Network Connection<span class="token operator">&lt;</span>/product<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>vendor <span class="token assign-left variable">id</span><span class="token operator">=</span><span class="token string">&#39;0x8086&#39;</span><span class="token operator">&gt;</span>Intel Corporation<span class="token operator">&lt;</span>/vendor<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>/capability<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/device<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>通过libvirt绑定到虚拟机</strong></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ <span class="token function">cat</span> <span class="token operator">&gt;</span>/tmp/interface.xml <span class="token operator">&lt;&lt;</span><span class="token string">EOF
&lt;interface type=&#39;hostdev&#39; managed=&#39;yes&#39;&gt;
     &lt;source&gt;
       &lt;address type=&#39;pci&#39; domain=&#39;0&#39; bus=&#39;11&#39; slot=&#39;16&#39; function=&#39;0&#39;/&gt;
     &lt;/source&gt;
&lt;/interface&gt;
EOF</span>
$ <span class="token function">virsh</span> attach-device MyGuest /tmp/interface. xml <span class="token parameter variable">--live</span> <span class="token parameter variable">--config</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当然也可以给网卡配置<code>MAC</code>地址和<code>VLAN</code>：</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>interface</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>hostdev<span class="token punctuation">&#39;</span></span> <span class="token attr-name">managed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>yes<span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>address</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>pci<span class="token punctuation">&#39;</span></span> <span class="token attr-name">domain</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>0<span class="token punctuation">&#39;</span></span> <span class="token attr-name">bus</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>11<span class="token punctuation">&#39;</span></span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>16<span class="token punctuation">&#39;</span></span> <span class="token attr-name">function</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>0<span class="token punctuation">&#39;</span></span><span class="token punctuation">/&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>source</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mac</span> <span class="token attr-name">address</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>52:54:00:6d:90:02<span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>vlan</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tag</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>42<span class="token punctuation">&#39;</span></span><span class="token punctuation">/&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>vlan</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>virtualport</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>802.1Qbh<span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parameters</span> <span class="token attr-name">profileid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>finance<span class="token punctuation">&#39;</span></span><span class="token punctuation">/&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>virtualport</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>interface</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>通过Qemu绑定到虚拟机</strong></p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>/usr/bin/qemu-kvm -name vdisk -enable-kvm -m 512 -smp 2 \\
-hda /mnt/nfs/vdisk.img \\
-monitor stdio \\
-vnc 0.0.0.0:0 \\
-device pci-assign,host=0b:00.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="优缺点" tabindex="-1"><a class="header-anchor" href="#优缺点"><span>优缺点</span></a></h2><ul><li><p>Pros</p><ul><li><p>More Scalable than Direct Assign</p></li><li><p>Security through IOMMU and function isolation</p></li><li><p>Control Plane separation through PF/VF notion</p></li><li><p>High packet rate, Low CPU, Low latency thanks to Direct Pass through</p></li></ul></li><li><p>Cons</p><ul><li><p>Rigid: Composability issues</p></li><li><p>Control plane is pass through, puts pressure on Hardware resources</p></li><li><p>Parts of the PCIe config space are direct map from Hardware</p></li><li><p>Limited scalability (16 bit)</p></li><li><p>SR-IOV NIC forces switching features into the HW</p></li><li><p>All the Switching Features in the Hardware or nothing</p></li></ul></li></ul><h2 id="参考" tabindex="-1"><a class="header-anchor" href="#参考"><span>参考</span></a></h2>`,18)),s("ul",null,[s("li",null,[s("a",k,[n[6]||(n[6]=a("Intel SR-IOV Configuration Guide")),e(t)])]),s("li",null,[s("a",m,[n[7]||(n[7]=a("OpenStack SR-IOV Passthrough for Networking")),e(t)])]),s("li",null,[s("a",b,[n[8]||(n[8]=a("Redhat OpenStack SR-IOV Configure")),e(t)])]),s("li",null,[s("a",g,[n[9]||(n[9]=a("SDN Fundamentails for NFV, Openstack and Containers")),e(t)])]),s("li",null,[s("a",h,[n[10]||(n[10]=a("I/O设备直接分配和SRIOV")),e(t)])]),s("li",null,[s("a",f,[n[11]||(n[11]=a("Libvirt PCI passthrough of host network devices")),e(t)])]),s("li",null,[s("a",I,[n[12]||(n[12]=a("Story of Network Virtualization and its future in Software and Hardware")),e(t)])])])])}const S=p(c,[["render",_],["__file","05. SR-IOV.html.vue"]]),O=JSON.parse('{"path":"/01.%20DesignAndDevelop/Develop/02.%20Theory/Computer/03.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%20-%20%E4%B8%93%E9%A2%98%E6%88%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AD%97%E5%85%B8%E7%89%88/%E4%B8%8B%E5%B1%82%E7%9B%B8%E5%85%B3/Network/%E3%80%8Asdn-handbook%E3%80%8Btonydeng/03.%20Linux%E7%BD%91%E7%BB%9C/05.%20SR-IOV.html","title":"SR-IOV","lang":"zh-CN","frontmatter":{"description":"SR-IOV SR-IOV（Single Root I/O Virtualization）是一个将PCIe共享给虚拟机的标准，通过为虚拟机提供独立的内存空间、中断、DMA流，来绕过VMM实现数据访问。SR-IOV基于两种PCIe functions： PF (Physical Function)： 包含完整的 PCIe 功能，包括 SR-IOV 的扩张...","head":[["meta",{"property":"og:url","content":"https://LincDocs.github.io/MdNote_Public/01.%20DesignAndDevelop/Develop/02.%20Theory/Computer/03.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%20-%20%E4%B8%93%E9%A2%98%E6%88%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AD%97%E5%85%B8%E7%89%88/%E4%B8%8B%E5%B1%82%E7%9B%B8%E5%85%B3/Network/%E3%80%8Asdn-handbook%E3%80%8Btonydeng/03.%20Linux%E7%BD%91%E7%BB%9C/05.%20SR-IOV.html"}],["meta",{"property":"og:site_name","content":"MdNote_Public"}],["meta",{"property":"og:title","content":"SR-IOV"}],["meta",{"property":"og:description","content":"SR-IOV SR-IOV（Single Root I/O Virtualization）是一个将PCIe共享给虚拟机的标准，通过为虚拟机提供独立的内存空间、中断、DMA流，来绕过VMM实现数据访问。SR-IOV基于两种PCIe functions： PF (Physical Function)： 包含完整的 PCIe 功能，包括 SR-IOV 的扩张..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-01-23T15:48:39.000Z"}],["meta",{"property":"article:author","content":"LincDocs"}],["meta",{"property":"article:modified_time","content":"2025-01-23T15:48:39.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"SR-IOV\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-01-23T15:48:39.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"LincDocs\\",\\"url\\":\\"https://github.com/LincDocs/MdNote_Public/\\"}]}"]]},"headers":[{"level":1,"title":"SR-IOV","slug":"sr-iov","link":"#sr-iov","children":[{"level":2,"title":"SR-IOV要求","slug":"sr-iov要求","link":"#sr-iov要求","children":[]},{"level":2,"title":"SR-IOV vs PCI path-through","slug":"sr-iov-vs-pci-path-through","link":"#sr-iov-vs-pci-path-through","children":[{"level":3,"title":"架构上的比较（以网卡为例）","slug":"架构上的比较-以网卡为例","link":"#架构上的比较-以网卡为例","children":[]},{"level":3,"title":"Virtio 和 Pass-Through 的详细比较","slug":"virtio-和-pass-through-的详细比较","link":"#virtio-和-pass-through-的详细比较","children":[]}]},{"level":2,"title":"SR-IOV vs DPDK","slug":"sr-iov-vs-dpdk","link":"#sr-iov-vs-dpdk","children":[]},{"level":2,"title":"SR-IOV使用示例","slug":"sr-iov使用示例","link":"#sr-iov使用示例","children":[]},{"level":2,"title":"优缺点","slug":"优缺点","link":"#优缺点","children":[]},{"level":2,"title":"参考","slug":"参考","link":"#参考","children":[]}]}],"git":{"createdTime":1737647319000,"updatedTime":1737647319000,"contributors":[{"name":"Linc","email":"762699299@qq.com","commits":1}]},"readingTime":{"minutes":3.55,"words":1066},"filePathRelative":"01. DesignAndDevelop/Develop/02. Theory/Computer/03. 计算机系统 - 专题或子系统的字典版/下层相关/Network/《sdn-handbook》tonydeng/03. Linux网络/05. SR-IOV.md","localizedDate":"2025年1月23日","excerpt":"\\n<p><code>SR-IOV</code>（<code>Single Root I/O Virtualization</code>）是一个将<code>PCIe</code>共享给虚拟机的标准，通过为虚拟机提供独立的内存空间、中断、<code>DMA</code>流，来绕过<code>VMM</code>实现数据访问。SR-IOV基于两种<code>PCIe functions</code>：</p>\\n<ul>\\n<li><strong>PF (Physical Function)</strong>： 包含完整的 PCIe 功能，包括 SR-IOV 的扩张能力，该功能用于 SR-IOV 的配置和管理。</li>\\n<li><strong>FV (Virtual Function)</strong>： 包含轻量级的 PCIe 功能。每一个 VF 有它自己独享的 PCI 配置区域，并且可能与其他VF共享着同一个物理资源</li>\\n</ul>","autoDesc":true,"bioChainData":{"outlink":[],"backlink":[],"localMap":{"nodes":[{"id":"01. DesignAndDevelop/Develop/02. Theory/Computer/03. 计算机系统 - 专题或子系统的字典版/下层相关/Network/《sdn-handbook》tonydeng/03. Linux网络/05. SR-IOV.md","value":{"title":"05. SR-IOV","path":"01. DesignAndDevelop/Develop/02. Theory/Computer/03. 计算机系统 - 专题或子系统的字典版/下层相关/Network/《sdn-handbook》tonydeng/03. Linux网络/05. SR-IOV.md","outlink":[],"backlink":[]}}],"links":[]}}}');export{S as comp,O as data};
