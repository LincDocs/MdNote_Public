import{_ as s,c as a,b as n,o as e}from"./app-i0cLEam0.js";const t={};function l(p,i){return e(),a("div",null,[...i[0]||(i[0]=[n(`<p><img src="https://p26-piu.byteimg.com/tos-cn-i-8jisjyls3a/8694dbc29caa4b59bda5f4181f3bd6ef~tplv-8jisjyls3a-2:0:0:q75.image" alt="横幅" loading="lazy"> <img src="https://p3-piu.byteimg.com/tos-cn-i-8jisjyls3a/796c19f610c146ffac65db71d7329490~tplv-8jisjyls3a-2:0:0:q75.image" alt="" loading="lazy"></p><blockquote><p>书接上回</p></blockquote><p>我们在上篇文章中提过，我们将以Slate为编辑器框架搭建markdown编辑器所见即所得。</p><p>开头先贴出我目前完成的部分:<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/84b664657a2347aebd68969a682ad5dd~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="" loading="lazy"></p><p>强烈推荐 <a href="https://link.juejin.cn/?target=https%3A%2F%2Fremixicon.com%2F" title="https://remixicon.com/" target="_blank" rel="noopener noreferrer">remixicon</a> ，风格统一，icon量多，用过的开发都说好，适合我们这些视觉审美差的开发者。</p><p>目前我完成了标题的所见即所得以及表格的所见即所得；图片目前完成了百分之五十，未来想支持多种功能，例如横屏滑动，九宫格布局....</p><h2 id="slate-js的前世今生" tabindex="-1">slate.js的前世今生</h2><blockquote><p>slate简介</p></blockquote><p>slate.js是一个「 <strong>非常轻量</strong> 」的编辑器框架，它没有集成任何功能，只提供了一个插件扩展机制让开发者去实现自己想要的功能，可插拔性高，轻量化操作，同时，它与「 <strong>视图</strong> 」无关，它将视图层独立封装为 <code>slate-react</code> ，Slate.js自己定义了一套脱离UI实现的数据模型，本文采用的slatejs版本号为： <code>0.57.1</code>.</p><blockquote><p>它像极了angular</p></blockquote><p>说它像angular不是说框架层，而是Slate的历程和angular相似，经历了一次大的改版，去除了之前的很多API以及语言选型从JavaScript转为了typescript。</p><p>在github上能搜到的利用slatejs做的编辑器，很大一部分是建立在最初版本的slatejs： <code>0.4x.x</code> 上的，就连Slate.js官方文档为了照顾使用之前版本的开发者，也会出一个main版本和 <code>0.47</code> 版本的文档。</p><h2 id="slate架构简介" tabindex="-1">slate架构简介</h2><p>slate作为一个编辑器框架，他的分层设计明显，仓库下包含四个模块：</p><ul><li>slate：核心，他定义了数据模型(model)，操作模型的方法和编辑器实例本身</li><li>slate-react： 以插件的形式提供了DOM渲染和用户交互能力，包括光标，快捷键等等。。。</li><li>slate-history：以插件的形式提供 undo/redo 能力</li><li>slate-hyperscript：让 用户能够使用jsx的语法创建slate的数据，项目中没有使用到，故暂不会介绍此处</li></ul><h2 id="state-model" tabindex="-1">state(model)</h2><p>这是slate的核心区域，它提供的API在官方文档上不够全面，但是在 <a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fianstormtaylor%2Fslate%2Ftree%2Fmain%2Fdocs%2Fapi" title="https://github.com/ianstormtaylor/slate/tree/main/docs/api" target="_blank" rel="noopener noreferrer">github</a> 上提示的很全面。</p><blockquote><p>工欲善其事，必先利其器</p></blockquote><p>要想使用slate构建编辑器，那必须要了解他的构造。</p><h3 id="model结构" tabindex="-1">model结构</h3><p>state它是以树形结构来创建和存储文档内容的，树形结构的节点类型为Node：</p><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-ts"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> type</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Node</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Editor</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Element</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Text</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> interface</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Element</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  children</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  [</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">string</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#E5C07B;"> unknown</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> interface</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Text</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  text</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#E5C07B;"> string</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  [</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">string</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#E5C07B;"> unknown</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Element 类型含有 children 属性，可以作为其他 Node 的父节点</li><li>Editor 可以看作是一种特殊的 Element ，它既是编辑器实例类型，也是文档树的根节点</li><li>Text 类型是树的叶子结点，包含文字信息</li></ul><p>他不会限制我们传入的数据类型，这让我们可以自行扩展Node的属性，但是相应的Node类型中必须包含的是 <code>children</code> ，例如我们定义了一个image类型的Node节点：</p><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-ts"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> const</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> imageNode</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">str</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#E5C07B;"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">link</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#E5C07B;"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Node</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        type</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;image&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        url</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> link</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        desc</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> str</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        children</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [{ </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">text</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> str</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 跟踪编辑器中 value 的值。</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">setValue</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> useState</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">([</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">   imageNode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ceshi&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;https://baidu.com&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">as</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[]);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>那么为什么slate要采用树形结构来描述文档内容呢？</p><ul><li>富文本文档本来就含有层次信息，例如，paragraph。text等，用树形结构描述符合我们开发者的直觉感官</li><li>文本和属性信息存在一处，方便我们获取文字的同时获取属性信息</li><li>方便递归操作</li></ul><h4 id="editor" tabindex="-1">editor</h4><p>我们可以实时拿到editor对象，如截图所示：</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/20580c2fec554ba099abf3e09c2e9813~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="" loading="lazy"></p><p>通过截图，我们可以知道editor提供children去存储我们的Node节点，同时提供了很多全局的方法供我们去使用，例如 <code>insertNodes 插入节点</code> <code>removeNode删除节点</code> 等等</p><h3 id="光标和选区-selection" tabindex="-1">光标和选区 selection</h3><p>有了model还需要selection选区，slate的选区采用的是Path+offset的设计。</p><p>Path是一个number类型的数组：</p><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-ts"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> type</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Path</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#0184BC;--shiki-dark:#E5C07B;"> number</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>它代表的是一个Node和他的祖先节点，以及在各自的上一级祖先节点的children数组中的index：</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/739c201d61d840e6bf29eac9cde121e9~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="" loading="lazy"></p><p>例如上图就是第一行的第一个元素。</p><p>offset 则是对于 Text 类型的节点而言，代表光标在文本串中的 index 位置。</p><p>Path 加上 offet 即构成了 Point 类型，即可表示 model 中的一个位置。</p><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-ts"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> interface</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Point</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  path</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Path</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  offset</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#E5C07B;"> number</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>两个 Point 类型即可组合为一个 Range，表示选区。</p><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-ts"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> interface</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Range</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  anchor</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Point</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // 选区开始的位置</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  focus</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Point</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // 选区结束的位置</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="如何对model进行变更-transforms" tabindex="-1">如何对model进行变更---Transforms</h2><p>Transforms了很多的方法，这些方法大致分成四种类型：</p><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-ts"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> Transforms</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">  ...</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">GeneralTransforms</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">  ...</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">NodeTransforms</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">  ...</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">SelectionTransforms</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">  ...</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">TextTransforms</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>NodeTransforms：对 Node 的操作方法</li><li>SelectionTransforms：对选区的操作方法</li><li>TextTransforms：对文本操作方法</li><li>GeneralTransforms：它并不生成 Operation 而是对 Operation 进行处理，只有它能直接修改 model，其他 transforms 最终都会转换成 GeneralTransforms 中的一种。</li></ul><p>具体还是需要去查阅文档，此处只是相当于一次汇总，但实际上例如插件化等并没有讲解。</p><p>评论 6</p>`,49)])])}const k=s(t,[["render",l]]),r=JSON.parse('{"path":"/Clippings/%E8%AE%A9%E6%88%91%E4%BB%AC%E4%B8%80%E8%B5%B7%E5%AE%8C%E6%88%90WYSIWYG(%E6%89%80%E8%A7%81%E5%8D%B3%E6%89%80%E5%BE%97)%E7%9A%84markdown%E7%BC%96%E8%BE%91%E5%99%A8%E3%80%8C%E4%BA%8C%E3%80%8D.html","title":"让我们一起完成WYSIWYG(所见即所得)的markdown编辑器「二」","lang":"zh-CN","frontmatter":{"title":"让我们一起完成WYSIWYG(所见即所得)的markdown编辑器「二」","source":"https://juejin.cn/post/6948719982968569887","author":["[[Lupoy]]"],"published":"2021-04-08T00:00:00.000Z","created":"2025-07-20T00:00:00.000Z","description":"我们在上篇文章中提过，我们将以Slate为编辑器框架搭建markdown编辑器所见即所得。 强烈推荐remixicon，风格统一，icon量多，用过的开发都说好，适合我们这些视觉审美差的开发者。 目前我完成了标题的所见即所得以及表格的所见即所得；图片目前完成了百分之五十，未来想…","tags":["clippings"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"让我们一起完成WYSIWYG(所见即所得)的markdown编辑器「二」\\",\\"image\\":[\\"https://p26-piu.byteimg.com/tos-cn-i-8jisjyls3a/8694dbc29caa4b59bda5f4181f3bd6ef~tplv-8jisjyls3a-2:0:0:q75.image\\",\\"https://p3-piu.byteimg.com/tos-cn-i-8jisjyls3a/796c19f610c146ffac65db71d7329490~tplv-8jisjyls3a-2:0:0:q75.image\\",\\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/84b664657a2347aebd68969a682ad5dd~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\\",\\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/20580c2fec554ba099abf3e09c2e9813~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\\",\\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/739c201d61d840e6bf29eac9cde121e9~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\\"],\\"dateModified\\":\\"2025-09-28T10:04:33.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"[[Lupoy]]\\"}]}"],["meta",{"property":"og:url","content":"https://LincDocs.github.io/MdNote_Public/Clippings/%E8%AE%A9%E6%88%91%E4%BB%AC%E4%B8%80%E8%B5%B7%E5%AE%8C%E6%88%90WYSIWYG(%E6%89%80%E8%A7%81%E5%8D%B3%E6%89%80%E5%BE%97)%E7%9A%84markdown%E7%BC%96%E8%BE%91%E5%99%A8%E3%80%8C%E4%BA%8C%E3%80%8D.html"}],["meta",{"property":"og:site_name","content":"MdNote_Public"}],["meta",{"property":"og:title","content":"让我们一起完成WYSIWYG(所见即所得)的markdown编辑器「二」"}],["meta",{"property":"og:description","content":"我们在上篇文章中提过，我们将以Slate为编辑器框架搭建markdown编辑器所见即所得。 强烈推荐remixicon，风格统一，icon量多，用过的开发都说好，适合我们这些视觉审美差的开发者。 目前我完成了标题的所见即所得以及表格的所见即所得；图片目前完成了百分之五十，未来想…"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://p26-piu.byteimg.com/tos-cn-i-8jisjyls3a/8694dbc29caa4b59bda5f4181f3bd6ef~tplv-8jisjyls3a-2:0:0:q75.image"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-09-28T10:04:33.000Z"}],["meta",{"property":"article:author","content":"[[Lupoy]]"}],["meta",{"property":"article:tag","content":"clippings"}],["meta",{"property":"article:modified_time","content":"2025-09-28T10:04:33.000Z"}]],"tag":["clippings"]},"git":{"createdTime":1759053873000,"updatedTime":1759053873000,"contributors":[{"name":"Linc","username":"Linc","email":"762699299@qq.com","commits":1,"url":"https://github.com/Linc"}]},"readingTime":{"minutes":5.14,"words":1543},"filePathRelative":"Clippings/让我们一起完成WYSIWYG(所见即所得)的markdown编辑器「二」.md","excerpt":"<p><img src=\\"https://p26-piu.byteimg.com/tos-cn-i-8jisjyls3a/8694dbc29caa4b59bda5f4181f3bd6ef~tplv-8jisjyls3a-2:0:0:q75.image\\" alt=\\"横幅\\" loading=\\"lazy\\"> <img src=\\"https://p3-piu.byteimg.com/tos-cn-i-8jisjyls3a/796c19f610c146ffac65db71d7329490~tplv-8jisjyls3a-2:0:0:q75.image\\" alt=\\"\\" loading=\\"lazy\\"></p>","bioChainData":{"outlink":[],"backlink":[],"localMap":{"nodes":[{"id":"Clippings/让我们一起完成WYSIWYG(所见即所得)的markdown编辑器「二」.md","value":{"title":"让我们一起完成WYSIWYG(所见即所得)的markdown编辑器「二」","path":"Clippings/让我们一起完成WYSIWYG(所见即所得)的markdown编辑器「二」.md","outlink":[],"backlink":[]}}],"links":[]}}}');export{k as comp,r as data};
