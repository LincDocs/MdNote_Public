---
create_date: 2025-12-14
last_date: 2025-12-14
author: LincZero
---
# 使用扫雷雷率纠正概率 (编写中, 未完成)

## 雷率

各自中含有雷的概率

也是: 假设没有开局保护 (如果有, 开局点击的那下必不为雷)，开局时随机开一格遇到的雷的概率

后续使用的雷率 $R$ 均为高级扫雷中的 $99/(30\times 16)=20.625\%$

## 四格概率问题

在扫雷高级定式里说过这个问题

如: (没标注的可以视为无数字格/被简化掉的格/墙壁)

```
a b
c d
```

ab有一雷，ac有一雷，问分别有雷的概率是?

这里一般是假设a有雷而bc无雷，说是概率高达80%。然后再根据开的情况看d有无雷

### 无雷率计算

如果是一雷，则只能是:

```
10
00
```

如果是二雷，则可以是

```
01   or   10
10        01
```

如果是三雷 (概率极低), 则只能是:

```
01
11
```

## 1/2与1/2交汇

```
? ? ?   or   ? ? ?
1 _ 1        2 x 2
```

这里这样两种结果: (1表示有雷，0表示无雷)

```
101
010
```

如果不考虑雷率，他们的概率均为1/2:

> [!warning]
> 常见误区: 并不是说由于中间那格被两个1/2重合，就会导致中间那格是雷的概率高于1/2或低于1/2

如果考虑雷率R，且假设外部还有无数个待解的扫雷区域，则他们的概率为:

```
101   
010   
```

## 1/2与1/3交汇

先说问题

在扫雷中，如果连续的四个格子abcd中，ab有一雷，bcd有一雷

如: (没标注的可以视为无数字格/被简化掉的格/墙壁)

```
? ? ? ?   or   ? ? ? ?
1 _ 1 _        2 x 3 x
```

那么这里的雷有三种情况：(1表示有雷，0表示无雷)

```
1010
1001
0100
```

不考虑雷数的情况下，他们的概率均为1/3

> [!warning]
> 常见误区: 并不是说由于第二格被多个1/N重合，就会导致中间那格是雷的概率高于1/3或低于1/3
> 
> 这里也可以理解成规则2(1/3)进一步约束了规则1(1/2)，两个规则没有互补


- 如果考虑高级扫雷的雷率大致为 99/480 (假设还有其他很多没开的格子，这里只是一个局部)，那么他们的概率分别是多少？









## 普适算法

把这个规律普适化（两块区域只重叠 1 个格子的情况）：

$$
\begin{aligned}
& 区域 A: Na 个格子，其中 Na' 个雷\\
& 区域 B: Nb 个格子，其中 Nb' 个雷\\
& 两者只重叠 1 个格子 x，问 x 是雷的概率？
\end{aligned}
$$

将所有满足两个计数约束的布局等概率，则：

$$
\begin{aligned}
x=1 时:~
&A 其余 Na−1 个格子放: Na'−1 个雷\\
&B 其余 Nb−1 个格子放: Nb'−1 个雷\\
&组合数：C(Na−1, Na′−1)\times C(Nb−1, Nb′−1)\\
x=0 时:~
&A 其余 Na−1 个格子放: Na' 个雷\\
&B 其余 Nb−1 个格子放: Nb' 个雷\\
&组合数：C(Na−1, Na′)\times C(Nb−1, Nb′)
\end{aligned}
$$

归一化后：

$$
\begin{aligned}
P(x=1)
&= \frac {C_{x=1}} {C_{x=1}+C_{x=0}}\\
&= \frac{C(Na−1, Na'−1) \times C(Nb−1, Nb'−1)}
    { C(Na−1, Na'−1) \times C(Nb−1, Nb'−1) + C(Na−1 , Na') \times C(Nb−1, Nb')}\\
\\~\\
P(x=0) &= 1 − P(x=1)
\end{aligned}
$$

代回1/2与1/3交汇的例子：

$$
Na=2, Na'=1, Nb=3, Nb'=1
\\
P(x=1)=\frac {1\times1}{1\times1+1\times2}=\frac 13
$$


验证正确，和前面算出来的一致。

同理，可进一步扩展到重叠N个格子的情况 (需考去除不可能出现的情况，负数的情况)










