---
create_date: 2025-09-07
last_date: 2025-09-09
---
# 商业许可证与激活码

## 激活码原理与分类

激活码（或称序列号、许可证密钥）的核心目的是**验证软件的合法使用权**，防止盗版和未经授权的分发。

它通过一种“锁-钥”机制来实现：
其基本原理是：用户提供一个字符串（激活码），软件通过一个算法来验证这个字符串是否有效

### 1. 对称算法 (Symmetric Algorithm)

密钥生成与验证使用相同密钥，这是最简单的一种

- 原理：软件内置一个密钥（或一个验证算法），并且知道如何生成有效的激活码。当用户输入激活码时，软件用相同的算法来检查它是否“看起来”正确
- 优点: 实现简单，可以完全**离线**工作
- 缺点: 极其**不安全**。一旦有人通过逆向工程（反编译）找到了软件中的验证算法，就可以轻松制作出“注册机”（Keygen），批量生成有效的激活码
- 应用：早期的许多单机软件

### 2. 非对称算法 (Asymmetric Algorithm / Public-Key Cryptography)

这是一种更安全的方案，使用一对密钥：公钥（Public Key）和私钥（Private Key）。

- 原理
  - 私钥: 由软件*开发者/公司*严格保密，用于“签名”*生成激活码*
  - 公钥: 内置在*软件中*，用于“验证”签名的有效性
- 开发/流程:
  1. 开发者将一些用户信息（如用户名、邮箱）或机器码（见下文）与私钥结合，通过加密/签名算法生成一个唯一的激活码
  2. 用户在软件中输入这个激活码
  3. 软件使用内置的公钥去解密/验证这个激活码。如果验证通过，说明这个激活码确实是由持有对应私钥的开发者签发的，激活成功
- 优点: **非常安全**。由于私钥从未泄露，破解者即使拥有公钥和验证算法，也无法伪造出能通过验证的签名，因此无法制作出注册机。
- 缺点: 激活码通常较长且复杂。
- 应用：这是现代软件和系统（如Windows激活）最常用的方式

### 3. 硬件绑定 (Node-locking / Hardware Fingerprinting)

- 原理：这种方案将许可证与用户的特定硬件绑定，确保一个激活码只能在一台机器上使用。
- 开发/流程:
  1. 软件首次运行时，会收集当前电脑的硬件信息（如 CPU序列号、主板ID、硬盘序列号、网卡MAC地址），生成一个唯一的“机器码”（Machine ID）。
  2. 用户将这个“机器码”发送给开发者。
  3. 开发者使用这个机器码（通常结合非对称算法）生成一个专门用于这台电脑的激活码。
  4. 用户输入激活码后，软件会先检查当前硬件的机器码是否与激活码中包含的机器码匹配，然后再进行验证。
- 优点: 有效防止**激活码共享**
- 缺点: 用户**更换硬件**（如换硬盘、主板）后可能导致激活失效，需要重新激活，增加了客服成本

### 4. 在线激活 (Online Activation)

这是目前最主流、最强大的方案，几乎所有大型商业软件都在使用。

- 开发/流程:
  1. 用户输入序列号（通常是购买凭证）。
  2. 软件将序列号发送到开发者的服务器。
  3. 服务器验证该序列号是否有效、是否被滥用（例如，是否在过多设备上激活）。
  4. 如果验证通过，服务器会返回一个成功的信号（或一个临时的激活令牌），软件完成激活。
  5. 软件可能会定期（如每次启动或每隔几天）与服务器通信，检查激活状态是否仍然有效。
- 优点:
  - 极高**安全性**: 验证逻辑在服务器端，客户端无法被破解。
  - 灵活的管理: 可以轻松实现订阅制、按需付费、远程吊销许可证等。
  - 用户友好: 用户通常只需登录账户即可自动激活。
- 缺点:
  - 需要稳定的服务器后端支持。
  - 软件必须联网才能激活（部分软件提供离线激活作为备用方案）。

## 破解

### “序列号-激活码”属于哪种？注册机如何破解？

你提到的“序列号-激活码”模式通常是 对称算法 或 硬件绑定 的一种表现形式，尤其是在可以离线激活的软件中。

- 序列号 (Serial Number): 可能是用户购买的凭证。
- 激活码 (Activation Code): 可能是基于序列号和机器码计算出来的值。

注册机（Keygen）的破解原理主要针对第一种“对称算法”：

1. 逆向工程 (Reverse Engineering): 破解者使用反汇编器（如 IDA Pro）和调试器（如 x64dbg）来分析软件的二进制代码。
2. 定位验证逻辑: 他们会专门寻找处理用户输入的序列号/激活码的部分，也就是验证激活状态的那个函数。
3. 分析算法: 通过阅读汇编代码，他们会逐步理解这个验证算法的数学逻辑。例如，算法可能是：“将序列号前4位作为种子，经过一系列位移、异或和加法运算，如果最终结果等于后12位，则验证通过。”
4. 复现算法: 一旦算法被理解，破解者就可以用任何编程语言（如 C++, Delphi）重新实现这个**生成**算法，而不是验证算法。
5. 制作注册机: 将这个生成算法打包成一个小程序，用户可以随意输入一个用户名或序列号，注册机就能计算出与之对应的、能够通过软件验证的激活码。

### Patching 暴力破解

另一种更暴力的破解方式叫 **Patching**，即直接修改软件的二进制文件，跳过验证逻辑。比如，无论验证函数返回 `true` 还是 `false`，都强行让程序认为是 `true`。


https://www.bilibili.com/video/BV1XJapzSE8w/?spm_id_from=333.337.search-card.all.click&vd_source=354c23df0ba4fa88870827023af91943

