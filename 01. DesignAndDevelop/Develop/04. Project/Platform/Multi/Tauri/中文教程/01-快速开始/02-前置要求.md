# 前置要求

为了开始使用 Tauri 构建项目，你首先需要安装一些依赖项：

1. [系统依赖项](https://v2.tauri.app/zh-cn/start/prerequisites/#%E7%B3%BB%E7%BB%9F%E4%BE%9D%E8%B5%96%E9%A1%B9)
2. [Rust](https://v2.tauri.app/zh-cn/start/prerequisites/#rust)
3. [移动端配置](https://v2.tauri.app/zh-cn/start/prerequisites/#%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%85%8D%E7%BD%AE) （仅在针对移动设备进行开发时才需要）

## 系统依赖项

点击链接开始配置，适用于你使用的操作系统：

- [Linux](https://v2.tauri.app/zh-cn/start/prerequisites/#linux) （特定发行版请参考下文）
- [macOS Catalina (10.15) 或更新](https://v2.tauri.app/zh-cn/start/prerequisites/#macos)
- [Windows 7 或更新](https://v2.tauri.app/zh-cn/start/prerequisites/#windows)

### Linux

Tauri 在 Linux 上进行开发需要各种系统依赖项。这些可能会有所不同，具体取决于你的发行版，但我们在下面提供了一些流行的发行版来帮助你进行设置。

```bash
# 非debian版详见原文
sudo apt update
sudo apt install libwebkit2gtk-4.1-dev \
  build-essential \
  curl \
  wget \
  file \
  libxdo-dev \
  libssl-dev \
  libayatana-appindicator3-dev \
  librsvg2-dev
```

如果你的发行版未包含在上面，那么你可能需要查阅 [Awesome Tauri on GitHub](https://github.com/tauri-apps/awesome-tauri#guides) 以获知是否已有指南被创建。

下一步：[下载并安装 Rust](https://v2.tauri.app/zh-cn/start/prerequisites/#rust)

### macOS

Tauri 使用 [Xcode](https://developer.apple.com/cn/xcode/resources/) 以及各种 macOS 和 iOS 开发依赖项。

从以下位置之一下载并安装 Xcode：

- [Mac App Store](https://apps.apple.com/cn/app/xcode/id497799835?mt=12)
- [Apple Developer 网站](https://developer.apple.com/cn/xcode/resources/).

请务必在安装后启动 Xcode，以使它完成设置。

仅针对桌面目标进行开发？

下一步：[下载并安装 Rust](https://v2.tauri.app/zh-cn/start/prerequisites/#rust)

### Windows

Tauri 使用 Microsoft C++ 生成工具进行开发以及 Microsoft Edge WebView2。这两者都是在 Windows 上进行开发所必需的。

按照以下步骤安装所需的依赖项。

#### Microsoft C++ 生成工具

1. 下载 [Microsoft C++ 生成工具](https://visualstudio.microsoft.com/zh-hans/visual-cpp-build-tools/) 安装程序并打开它以开始安装。
2. 在安装过程中，选中“使用 C++ 的桌面开发”选项。

![Visual Studio C++ 生成工具 安装程序 截图](https://v2.tauri.app/_astro/visual-studio-build-tools-installer.TFOm5FVI_Z2tsf12.webp)

下一步：[下载并安装 WebView2](https://v2.tauri.app/zh-cn/start/prerequisites/#webview2).

#### WebView2

> [!tip]
> 
> WebView 2 已安装在 Windows 10（从版本 1803 开始）和更高版本的 Windows 上。如果你正在这些版本之一上进行开发，则可以跳过此步骤，并直接转到 [下载并安装 Rust](https://v2.tauri.app/zh-cn/start/prerequisites/#rust)。

Tauri 使用 Microsoft Edge WebView2 在 Windows 上呈现内容。

通过访问[下载 WebView2 运行时](https://developer.microsoft.com/zh-cn/microsoft-edge/webview2/#download)安装 WebView2。下载并安装“常青独立安装程序（Evergreen Bootstrapper）”。

下一步：[下载并安装 Rust](https://v2.tauri.app/zh-cn/start/prerequisites/#rust)

## Rust

Tauri 使用 [Rust](https://www.rust-lang.org/zh-CN/) 构建并需要它进行开发。使用以下方法之一安装 Rust。你可以在 [https://www.rust-lang.org/zh-CN/tools/install](https://www.rust-lang.org/zh-CN/tools/install) 查看更多安装方法。

:::tabs

@tab Linux and macOS

使用 [`rustup`](https://github.com/rust-lang/rustup) 安装：

```bash
curl --proto '=https' --tlsv1.2 https://sh.rustup.rs -sSf | sh
```

> [!tip]
> 
> 安全提示
> 
> 我们已经审核了这个 bash 脚本，它做了它所说的应该做的事情。尽管如此，在盲目地使用脚本之前，先看一看总是明智的。
> 
> 以下是作为纯文本的脚本文件：[rustup.sh](https://sh.rustup.rs/)

**请务必重新启动终端（在某些情况下重新启动系统）以使更改生效。**

下一步：如果你想要在 Android 或 iOS 上开发应用，前往[移动端配置](https://v2.tauri.app/zh-cn/start/prerequisites/#%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%85%8D%E7%BD%AE)。或者，如果你想使用 JavaScript 前端框架，前往[安装 Node](https://v2.tauri.app/zh-cn/start/prerequisites/#nodejs)。否则，前往[创建新项目](https://v2.tauri.app/zh-cn/start/create-project/)。

@tab Windows

前往 [https://www.rust-lang.org/zh-CN/tools/install](https://www.rust-lang.org/zh-CN/tools/install) 下载 `rustup`。

或者，你可以在 PowerShell 中使用 `winget` 安装 rustup：

```bash
winget install --id Rustlang.Rustup
```

> [!warning]
> 
> 默认使用 MSVC 工具链
> 
> 为了完全支持 Tauri 和 [`trunk`](https://trunkrs.dev/) 等工具，请确保在安装程序对话框中的 `default host triple` 选择 MSVC Rust 工具链。根据你的系统，它应该是 `x86_64-pc-windows-msvc`、`i686-pc-windows-msvc` 或 `aarch64-pc-windows-msvc`。
> 
> 如果你已安装 Rust，你可以通过运行以下命令来确保安装正确的工具链：
> 
> ```bash
> rustup default stable-msvc
> ```

**请务必重新启动终端（在某些情况下重新启动系统）以使更改生效。**

下一步：如果你想要在 Android 或 iOS 上开发应用，前往[移动端配置](https://v2.tauri.app/zh-cn/start/prerequisites/#%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%85%8D%E7%BD%AE)。或者，如果你想使用 JavaScript 前端框架，前往[安装 Node](https://v2.tauri.app/zh-cn/start/prerequisites/#nodejs)。否则，前往[创建新项目](https://v2.tauri.app/zh-cn/start/create-project/)。

:::

## Node.js

> [!note]
> JavaScript 生态系统
> 
> 仅当你打算使用 JavaScript 前端框架时

1. 访问 [Node.js 网站](https://nodejs.org/zh-cn)，下载并安装长期支持版本（LTS）。
2. 运行以下命令以检查 Node 是否成功安装：

  ```bash
  node -v
  # v20.10.0
  npm -v
  # 10.2.3
  ```

重要的是，重新启动终端以确保它能够识别新安装的内容。在某些情况下，您可能需要重新启动计算机。

虽然 npm 是 Node.js 的默认包管理器，但你也可以使用其他包管理器，比如 pnpm 或 yarn。如果你想启用这些包管理器，可以在终端中运行 `corepack enable`。这一步是可选的，只有在您想使用 npm 以外的包管理器时才需要。

下一步：[移动端配置](https://v2.tauri.app/zh-cn/start/prerequisites/#%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%85%8D%E7%BD%AE)或者[创建新项目](https://v2.tauri.app/zh-cn/start/create-project/)。

## 移动端配置

如果你想将应用适配到 Android 或 iOS，则需要安装一些其他依赖项：

- [Android](https://v2.tauri.app/zh-cn/start/prerequisites/#android)
- [iOS](https://v2.tauri.app/zh-cn/start/prerequisites/#ios)

### Android

1. 从 Android Developers 网站下载并安装 [Android Studio](https://developer.android.com/studio?hl=zh-cn)。
2. 设置 `JAVA_HOME` 环境变量：

:::tabs

@tab Linux

```bash
export JAVA_HOME=/opt/android-studio/jbr
```

:::

3. 使用 Android Studio 中的 SDK Manager 安装以下内容：

  - Android SDK Platform
  - Android SDK Platform-Tools
  - NDK (Side by side)
  - Android SDK Build-Tools
  - Android SDK Command-line Tools

在 SDK Manager 中选择“Show Package Details”可以安装旧版本软件包。非必要时不要安装旧版本，因为它们可能引入兼容性问题或安全风险。

4. 配置 `ANDROID_HOME` 和 `NDK_HOME` 环境变量：

:::tabs

@tab Linux

```bash
export ANDROID_HOME="$HOME/Android/Sdk"
export NDK_HOME="$ANDROID_HOME/ndk/$(ls -1 $ANDROID_HOME/ndk)"
```

:::

5. 使用 `rustup` 添加 Android 编译目标：

```bash
rustup target add aarch64-linux-android armv7-linux-androideabi i686-linux-android x86_64-linux-android
```

下一步：[配置 iOS](https://v2.tauri.app/zh-cn/start/prerequisites/#ios)或[创建新项目](https://v2.tauri.app/zh-cn/start/create-project/)。

### iOS

> [!warning]
> 仅 macOS
> 
> iOS 开发需要 Xcode，并且仅在 macOS 上可用。确保你在 [macOS 系统依赖项部分](https://v2.tauri.app/zh-cn/start/prerequisites/#macos)中安装了 Xcode 而不是 Xcode 命令行工具。

1. 在终端中使用 `rustup` 将 iOS 添加为编译目标：

```bash
rustup target add aarch64-apple-ios x86_64-apple-ios aarch64-apple-ios-sim
```

2. 安装 [Homebrew](https://brew.sh/zh-cn/)：

```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

3. 使用 Homebrew 安装 [Cocoapods](https://cocoapods.org)：

```bash
brew install cocoapods
```

下一步：[创建新项目](https://v2.tauri.app/zh-cn/start/create-project/)。

## 故障排除

如果你在安装过程中遇到任何问题，请务必查看[故障诊断指南](https://v2.tauri.app/zh-cn/develop/debug/)或联系 [Tauri Discord](https://discord.com/invite/tauri) 以寻求帮助。

下一步: 现在，你已经安装了所有前置要求，你可以准备好[创建你的第一个 Tauri 应用程序](https://v2.tauri.app/zh-cn/start/create-project/)！

